apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  name: cost-monitoring
  namespace: monitoring
spec:
  groups:
    - name: cost.rules
      interval: 30s
      rules:
        - alert: DailyCostReport
          expr: do_cost_exporter_resource_cost >= 0
          for: 1m
          labels:
            severity: warning
            category: cost
          annotations:
            summary: "ðŸ’° Daily Cost Report - {{ "{{" }} $labels.resource_name {{ "}}" }}"
            description: |
              **DigitalOcean Infrastructure Cost Breakdown**
              
              â€¢ **{{ "{{" }} $labels.resource_name {{ "}}" }}** ({{ "{{" }} $labels.resource_type {{ "}}" }}): **${{ "{{" }} $value | humanize {{ "}}" }}/day**
              â€¢ Specs: {{ "{{" }} $labels.specs {{ "}}" }}
              â€¢ Region: {{ "{{" }} $labels.region {{ "}}" }}
              
              _Cost monitoring dashboard: https://grafana.duli.one/d/cost-monitoring_
