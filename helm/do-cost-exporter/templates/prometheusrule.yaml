apiVersion: monitoring.coreos.com/v1
kind: PrometheusRule
metadata:
  name: cost-monitoring
  namespace: monitoring
spec:
  groups:
    - name: cost.rules
      interval: 30s
      rules:
        - alert: DailyCostReport
          expr: do_cost_exporter_resource_cost >= 0
          for: 1m
          labels:
            severity: warning
            category: cost
          annotations:
            summary: "ðŸ’° Daily Cost Report"
            description: |
              **DigitalOcean Infrastructure Cost Breakdown**
              
              {{ range query "do_cost_exporter_resource_cost" }}
              â€¢ **{{ .Labels.resource_name }}** ({{ .Labels.resource_type | title }}): **${{ .Value | humanize 2 }}/day**
                Type: {{ .Labels.specs }}
              {{ end }}
              
              ðŸ“Š [View in Grafana](https://grafana.duli.one/d/cost-monitoring)
