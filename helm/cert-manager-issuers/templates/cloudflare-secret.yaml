---
# ============================================================================
# CLOUDFLARE API TOKEN SECRET
# ============================================================================
# Secret containing Cloudflare API token for DNS-01 challenge.
#
# IMPORTANT: This is a placeholder. In production, use SealedSecrets or
# external-secrets-operator to manage this secret securely.
#
# To create the Cloudflare API Token:
# 1. Go to https://dash.cloudflare.com/profile/api-tokens
# 2. Create Custom Token with permissions:
#    - Zone:Zone:Read (for all zones or specific zone)
#    - Zone:DNS:Edit (for all zones or specific zone)
# 3. Store the token in Ansible Vault as vault_cloudflare_api_token
#
# This secret will be created by Ansible playbook with the actual token value.
# The template below is for reference only.

{{- if .Values.cloudflare.createSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: cloudflare-api-token
  namespace: cert-manager
type: Opaque
stringData:
  api-token: {{ .Values.cloudflare.apiToken | quote }}
{{- end }}
