# GitOps Best Practice: Production Configuration
# Database credentials are managed via Kubernetes Secrets, NOT in values files.
# The Keycloak Operator expects a secret named 'database-app' in the same namespace.
#
# CRITICAL - MANUAL SETUP REQUIRED FOR PRODUCTION:
# 1. Create the database-app secret in the keycloak-system namespace (prod cluster)
# 2. Use a secure GitOps secret management solution:
#    - Option A: Sealed Secrets (https://github.com/bitnami-labs/sealed-secrets)
#    - Option B: External Secrets Operator (https://external-secrets.io/)
#    - Option C: HashiCorp Vault with ArgoCD integration
#    - Option D: AWS Secrets Manager / Azure Key Vault with external-secrets
#
# This approach ensures:
#   - Plaintext credentials are NEVER stored in Git repositories
#   - Secrets are encrypted at rest in the cluster
#   - Compliance with security best practices (SOC2, ISO27001, etc.)
#   - Automatic secret rotation and management
#
keycloak:
  hostname: auth.duli.ai
  db:
    host: database-prod-rw.prod.svc.cluster.local  # Update to your production database host
    secretName: database-app
  tls:
    enabled: true
    issuerName: letsencrypt-prod
    issuerKind: ClusterIssuer
