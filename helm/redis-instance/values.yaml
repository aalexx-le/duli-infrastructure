redis:
  name: redis-replication
  # Mode: Standalone, Cluster, or Replication
  # Replication mode provides HA with master-replica setup (similar to old Sentinel)
  mode: Replication
  # Number of replicas (master + replicas = size)
  size: 2 # 1 master + 1 replica

  kubernetesConfig:
    image: quay.io/opstree/redis:v7.0.12
    imagePullPolicy: IfNotPresent

    # Resource limits (matching old Bitnami Redis setup)
    resources:
      requests:
        cpu: 50m
        memory: 128Mi
      limits:
        cpu: 100m
        memory: 256Mi

  storage:
    size: 5Gi # Increased from 1Gi to match old setup
    storageClassName: do-block-storage

  # Service configuration for external access
  # Use LoadBalancer for production, NodePort for staging
  service:
    type: LoadBalancer # Default: LoadBalancer (override to NodePort in values-staging.yaml)

  redisSecret:
    name: redis-credentials
    key: password
